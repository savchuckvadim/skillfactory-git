# Слияние и конфликты
---

[К cодержанию](Содержание.md)

Если вы изменили одну и ту же часть одного и того же файла по-разному в двух объединяемых ветках, **Git** не сможет их чисто объединить. Если ваше исправление ошибки #53 потребовало изменить ту же часть файла что и `hotfix`, вы получите примерно такое сообщение о конфликте слияния:

> `$ git merge iss53`
>
> `Auto-merging index.html`
>
> `CONFLICT (content): Merge conflict in index.html`
>
> `Automatic merge failed; fix conflicts and then commit the result.`
>

**Git** не создал коммит слияния автоматически. Он остановил процесс до тех пор, пока вы не разрешите конфликт. Чтобы в любой момент после появления конфликта увидеть, какие файлы не объединены, вы можете запустить [`git status`](gitstatus.md):

> `$ git status`
> 
> `On branch master`
>
> `You have unmerged paths.`
>
>  `(fix conflicts and run "git commit")`
>
> `Unmerged paths:`
>  `(use "git add <file>..." to mark resolution)`
>
>   ` both modified:      index.html`
>
>`no changes added to commit (use "git add" and/or "git commit -a")`

Всё, где есть неразрешённые конфликты слияния, перечисляется как неслитое. В конфликтующие файлы **Git** добавляет специальные маркеры конфликтов, чтобы вы могли исправить их вручную. В вашем файле появился раздел, выглядящий примерно так:

> `<<<<<<< HEAD:index.html`
>
> `<div id="footer">contact : email.support@github.com</div>`
>
>`=======`
>
> `<div id="footer">`
>
> `please contact us at support@github.com`
>
> `</div>`
>
> `>>>>>>> iss53:index.html`

Это означает, что версия из `HEAD` (вашей ветки `master`, поскольку именно её вы извлекли перед запуском команды слияния) — это верхняя часть блока (всё, что над `=======`), а версия из вашей ветки `iss53` представлена в нижней части. Чтобы разрешить конфликт, придётся выбрать один из вариантов, либо объединить содержимое по-своему. Например, вы можете разрешить конфликт, заменив весь блок следующим:

> `<div id="footer">`
>
> `please contact us at email.support@github.com`
>
> `</div>`

В этом разрешении есть немного от каждой части, а строки `<<<<<<<, ======= и >>>>>>>` полностью удалены. Разрешив каждый конфликт во всех файлах, запустите `git add` для каждого файла, чтобы отметить конфликт как решённый. Добавление файла в индекс означает для **Git**, что все конфликты в нём исправлены.

[см. также Инструменты Git - Продвинутое слияние](https://git-scm.com/book/ru/v2/%D0%98%D0%BD%D1%81%D1%82%D1%80%D1%83%D0%BC%D0%B5%D0%BD%D1%82%D1%8B-Git-%D0%9F%D1%80%D0%BE%D0%B4%D0%B2%D0%B8%D0%BD%D1%83%D1%82%D0%BE%D0%B5-%D1%81%D0%BB%D0%B8%D1%8F%D0%BD%D0%B8%D0%B5#r_advanced_merging)

[Ветвление в Git](gitbranch.md)